<!doctype html>
<html lang="da">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}freudd{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Space+Grotesk:wght@600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light;
        --space-1: 4px;
        --space-2: 8px;
        --space-3: 12px;
        --space-4: 16px;
        --space-5: 24px;
        --space-6: 32px;
        --radius-sm: 10px;
        --radius-sub: 12px;
        --radius-md: 14px;
        --radius-lg: 18px;
        --radius-xl: 22px;
        --radius-pill: 999px;
        --control-min-height: 44px;
        --bg: #edf3fb;
        --bg-soft: #f8faff;
        --surface: #ffffff;
        --surface-soft: #f4f7ff;
        --surface-strong: #e9efff;
        --ink: #1a2743;
        --muted: #607194;
        --accent: #2f67e8;
        --accent-strong: #224fbd;
        --accent-soft: #e4edff;
        --accent-ink: #ffffff;
        --danger: #b23b4f;
        --success: #1f8f4e;
        --warn-bg: #fff4de;
        --warn-border: #f1c26b;
        --warn-ink: #714b12;
        --border: #d3ddf0;
        --border-strong: #b8c7e7;
        --shadow-container: 0 8px 20px rgba(48, 74, 134, 0.1);
        --shadow-hover-subtle: 0 2px 8px rgba(49, 88, 169, 0.12);
        --focus-ring: rgba(47, 103, 232, 0.28);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Manrope", "Avenir Next", "Helvetica Neue", sans-serif;
        background:
          radial-gradient(circle at 8% -10%, rgba(72, 123, 235, 0.18), transparent 38%),
          radial-gradient(circle at 92% 0%, rgba(54, 145, 240, 0.12), transparent 42%),
          linear-gradient(160deg, #f4f7ff 0%, #edf3fb 45%, #e8eff9 100%);
        color: var(--ink);
        line-height: 1.56;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        background-image:
          linear-gradient(rgba(64, 99, 169, 0.045) 1px, transparent 1px),
          linear-gradient(90deg, rgba(64, 99, 169, 0.045) 1px, transparent 1px);
        background-size: 42px 42px;
        opacity: 0.36;
        z-index: 0;
      }

      h1,
      h2,
      h3 {
        font-family: "Space Grotesk", "Manrope", sans-serif;
        line-height: 1.1;
        letter-spacing: -0.03em;
      }

      a {
        color: var(--accent-strong);
      }

      a:hover {
        color: var(--accent);
      }

      .site-header {
        position: sticky;
        top: 0;
        z-index: 20;
        border-bottom: 1px solid var(--border);
        background: rgba(248, 251, 255, 0.9);
        backdrop-filter: blur(14px);
      }

      .header-inner {
        max-width: 1120px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: var(--space-3);
        padding: var(--space-3) var(--space-4);
      }

      .brand {
        font-family: "Space Grotesk", "Manrope", sans-serif;
        font-size: clamp(1.45rem, 2.2vw, 1.72rem);
        font-weight: 700;
        color: #1b2b4e;
        text-decoration: none;
      }

      .nav-links {
        display: flex;
        gap: var(--space-2);
        align-items: center;
      }

      .inline-form {
        margin: 0;
      }

      .nav-action {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-height: var(--control-min-height);
        border: 1px solid var(--border-strong);
        background: var(--surface);
        color: var(--ink);
        border-radius: var(--radius-pill);
        padding: 0 var(--space-3);
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        transition: border-color 160ms ease, background 160ms ease, color 160ms ease;
      }

      .nav-action:hover {
        border-color: rgba(47, 103, 232, 0.44);
        background: var(--accent-soft);
        color: #183372;
      }

      .page-shell {
        position: relative;
        z-index: 1;
        max-width: 1120px;
        margin: var(--space-5) auto;
        padding: 0 var(--space-4) var(--space-6);
      }

      .card {
        border: 1px solid var(--border);
        border-radius: var(--radius-xl);
        background:
          linear-gradient(160deg, rgba(255, 255, 255, 0.98), rgba(246, 250, 255, 0.98)),
          var(--surface);
        box-shadow: var(--shadow-container);
        padding: var(--space-4);
        animation: card-enter 220ms ease-out;
      }

      .messages {
        margin-bottom: var(--space-4);
        display: grid;
        gap: var(--space-2);
      }

      .message {
        border: 1px solid var(--border);
        border-radius: var(--radius-sub);
        padding: var(--space-3);
        background: rgba(247, 250, 255, 0.95);
        color: #3d4e71;
      }

      .message.error {
        border-color: rgba(178, 59, 79, 0.4);
        color: var(--danger);
      }

      .message.success {
        border-color: rgba(31, 143, 78, 0.35);
        color: var(--success);
      }

      .btn-primary {
        border: none;
        border-radius: var(--radius-pill);
        background: linear-gradient(145deg, var(--accent), #4a7bf0);
        color: var(--accent-ink);
        min-height: var(--control-min-height);
        padding: 0 var(--space-4);
        font-size: 0.96rem;
        font-weight: 700;
        letter-spacing: 0.01em;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 160ms ease;
      }

      .btn-primary:hover {
        background: linear-gradient(145deg, #3d73ef, #5d8af2);
        color: #ffffff;
      }

      .btn-primary:focus-visible,
      .nav-action:focus-visible,
      button:focus-visible,
      input:focus-visible,
      textarea:focus-visible,
      select:focus-visible,
      summary:focus-visible,
      a:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px var(--focus-ring);
      }

      .insecure-banner {
        margin-bottom: var(--space-4);
        border: 1px solid var(--warn-border);
        border-radius: var(--radius-md);
        padding: var(--space-3);
        background: var(--warn-bg);
        color: var(--warn-ink);
        display: flex;
        align-items: flex-start;
        gap: var(--space-2);
      }

      .insecure-banner::before {
        content: "!";
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 1.1rem;
        height: 1.1rem;
        margin-top: var(--space-1);
        border-radius: var(--radius-pill);
        border: 1px solid var(--warn-border);
        font-size: 0.78rem;
        font-weight: 700;
        color: var(--warn-ink);
      }

      .muted {
        color: var(--muted);
      }

      .is-hidden {
        display: none;
      }

      .auth-shell {
        max-width: 560px;
        margin: 0 auto;
        padding: var(--space-5) var(--space-5);
      }

      .auth-title {
        margin: 0 0 var(--space-3);
        font-size: clamp(2rem, 6vw, 2.75rem);
      }

      .auth-subtitle {
        margin: 0 0 var(--space-5);
        font-size: 1.02rem;
      }

      .auth-footer {
        margin-top: var(--space-4);
      }

      .form-stack p {
        margin: 0 0 var(--space-4);
      }

      label {
        display: block;
        margin-bottom: var(--space-1);
        color: var(--ink);
        font-size: 0.95rem;
        font-weight: 600;
      }

      input[type="text"],
      input[type="password"],
      input[type="email"],
      input[type="number"],
      textarea,
      select {
        width: 100%;
        max-width: 100%;
        min-height: var(--control-min-height);
        border: 1px solid var(--border-strong);
        border-radius: var(--radius-sub);
        background: var(--surface);
        color: var(--ink);
        font-family: "Manrope", "Avenir Next", sans-serif;
        font-size: 0.95rem;
        padding: var(--space-3);
        transition: border-color 160ms ease, box-shadow 160ms ease, background 160ms ease;
      }

      input::placeholder,
      textarea::placeholder {
        color: #8ca0c3;
      }

      input:hover,
      textarea:hover,
      select:hover {
        border-color: #8ca8dc;
      }

      .errorlist {
        margin: var(--space-2) 0 0;
        padding: 0;
        list-style: none;
        color: var(--danger);
        font-size: 0.85rem;
      }

      .table-wrap {
        overflow-x: auto;
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        background: var(--surface);
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th,
      td {
        text-align: left;
        border-bottom: 1px solid var(--border);
        padding: var(--space-3);
        white-space: nowrap;
      }

      th {
        background: #f0f4ff;
        color: #45577b;
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.06em;
      }

      tbody tr:hover {
        background: rgba(228, 237, 255, 0.58);
      }

      tbody tr:last-child td {
        border-bottom: none;
      }

      .status-pill {
        display: inline-block;
        border-radius: var(--radius-pill);
        padding: 0 var(--space-2);
        line-height: 1.8;
        font-size: 0.8rem;
        font-weight: 700;
        letter-spacing: 0.02em;
      }

      .status-pill.is-complete {
        background: rgba(31, 143, 78, 0.12);
        color: #1f8f4e;
        border: 1px solid rgba(31, 143, 78, 0.35);
      }

      .status-pill.is-progress {
        background: rgba(47, 103, 232, 0.12);
        color: #285cd1;
        border: 1px solid rgba(47, 103, 232, 0.3);
      }

      .quiz-shell {
        padding: var(--space-4);
      }

      .quiz-head {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: var(--space-3);
        flex-wrap: wrap;
      }

      .quiz-title {
        margin: 0;
        font-size: clamp(1.5rem, 4vw, 2rem);
      }

      .ghost-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-height: var(--control-min-height);
        border: 1px solid var(--border-strong);
        border-radius: var(--radius-pill);
        padding: 0 var(--space-3);
        text-decoration: none;
        color: #3f5687;
        background: #f7f9ff;
        transition: border-color 160ms ease, color 160ms ease, background 160ms ease;
      }

      .ghost-link:hover {
        border-color: rgba(47, 103, 232, 0.42);
        color: #214fbe;
        background: var(--accent-soft);
      }

      .quiz-frame-wrap {
        margin-top: var(--space-3);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        overflow: hidden;
        background: #ffffff;
      }

      .quiz-frame {
        width: 100%;
        height: 82vh;
        border: 0;
      }

      @keyframes card-enter {
        from {
          opacity: 0;
          transform: translateY(9px);
        }

        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 640px) {
        .page-shell {
          margin-top: var(--space-4);
          padding-bottom: var(--space-5);
        }

        .header-inner {
          padding: var(--space-3) var(--space-3);
        }

        .brand {
          font-size: 1.36rem;
        }

        .nav-action {
          padding: 0 var(--space-3);
          font-size: 0.85rem;
        }

        .card {
          border-radius: var(--radius-xl);
          padding: var(--space-4);
        }

        .auth-shell {
          padding: var(--space-4);
        }

        .quiz-frame {
          height: 76vh;
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="header-inner">
        <a class="brand" href="{% url 'progress' %}">freudd</a>
        <div class="nav-links">
          {% if request.user.is_authenticated %}
          <a class="nav-action" href="{% url 'progress' %}">Mit overblik</a>
          <form method="post" action="{% url 'logout' %}" class="inline-form">
            {% csrf_token %}
            <button class="nav-action" type="submit">Log ud</button>
          </form>
          {% else %}
          <a class="nav-action" href="{% url 'login' %}">Log ind</a>
          <a class="nav-action" href="{% url 'signup' %}">Opret konto</a>
          {% endif %}
        </div>
      </div>
    </header>
    <main class="page-shell">
      {% if messages %}
      <div class="messages">
        {% for message in messages %}
        <div class="message {{ message.tags|default:'' }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
