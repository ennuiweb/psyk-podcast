{% extends "base.html" %}
{% load socialaccount %}
{% block title %}opret konto · freudd{% endblock %}
{% block content %}
<div class="card auth-shell">
  {% if insecure_http %}
  <div class="insecure-banner">
    Oprettelse af konto over HTTP er usikkert. Prioritér HTTPS før bred udrulning.
  </div>
  {% endif %}

  <h1 class="auth-title">opret konto</h1>
  <p class="muted auth-subtitle">Opret konto for at få personlig progression i dine fag.</p>

  <form method="post" class="form-stack">
    {% csrf_token %}
    {% if next_value %}
    <input type="hidden" name="next" value="{{ next_value }}" />
    {% endif %}
    {{ form.non_field_errors }}
    <p>
      <label for="id_username">Brugernavn</label>
      {{ form.username }}
      {{ form.username.errors }}
    </p>
    <p>
      <label for="id_email">E-mail (valgfri)</label>
      {{ form.email }}
      {{ form.email.errors }}
    </p>
    <p>
      <label for="id_password1">Adgangskode</label>
      {{ form.password1 }}
      {{ form.password1.errors }}
    </p>
    <p>
      <label for="id_password2">Bekræft adgangskode</label>
      {{ form.password2 }}
      {{ form.password2.errors }}
    </p>
    <button class="btn-primary" type="submit">Opret konto</button>
  </form>

  {% if google_auth_enabled %}
  <form method="post" action="{% provider_login_url 'google' next=next_value %}" class="form-stack">
    {% csrf_token %}
    {% if next_value %}
    <input type="hidden" name="next" value="{{ next_value }}" />
    {% endif %}
    <button class="nav-action" type="submit">Fortsæt med Google</button>
  </form>
  {% endif %}

  <p class="muted auth-footer">
    Har du allerede en konto? <a href="{% url 'login' %}">Log ind</a>.
  </p>
</div>
{% endblock %}
